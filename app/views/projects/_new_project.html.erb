<%= form_with model: project, class: "project_form" do |form| %>
<table id="<%= dom_id(project) %>" class="project-table_project">
	<tbody>
		<tr>
			<span class="project-list_project-name">
				<td><%= form.text_field :name, class: "form_input", autocomplete: :off, autofocus: true %></td>
			</span>
			<td><%= link_to 'Edit', edit_project_path(project), class: "link", remote: true %></td>
			<td><%= link_to 'Delete', project, method: :delete, data: { confirm: 'Are you sure?1' },
				remote: true, class: 'delete_project' %></td>
		</tr>
	</tbody>
</table>
<% end %>
		
<%= form_with model: @new_task, class: "task_form" do |f| %>
	<%= f.hidden_field :project_id, :value => project.id %>
	<%= f.text_field :name, placeholder: "What are you up to, buddy?", autocomplete: :off, 
		data: { placeholder: :new_task_input, "project-id": project.id }, class: "task_form_input" %>
<% end %>

<ul id="tasks" class="sortable" data-url="<%= sort_tasks_path %>" data-placeholder="uncompleted_tasks" data-project-id="<%= project.id %>">
	<%= render project.tasks.uncompleted.by_position %>
</ul>

<ul id="tasks-completed" data-placeholder="completed_tasks" data-project-id="<%= project.id %>">
	<%= render project.tasks.completed.by_position %>
</ul>

